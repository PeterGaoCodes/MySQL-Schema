// Use DBML to define your database structure
// Docs: https://dbml.dbdiagram.io/docs

Table project_details {
  id integer [primary key]
  house_id integer
  // client_id int
  // note we can track the client by which house it is, so we dont need client
  status_id varchar 
  created_at timestamp
}

Table task {
  id integer [primary key]
  rate varchar
  project_details_id int
  service_id int
}

Table status {
  id integer [primary key]
  status varchar
}

Table unit_rate {
  id int [primary key]
  sqft int
  price_per_sqft int
}

Table labour_rate {
  id int [primary key]
  labour int
  materials int
}

Table services {
  id integer [primary key]
  service_type varchar 
  created_at timestamp
}

Table client {
  id integer [primary key]
  first_name varchar(20)
  last_name  varchar(20)
  phone_number varchar(20)
  occupation varchar(20)
  created_at timestamp
}

Table friend_referral {
  client_id int   [primary key]
  referred_by int [primary key]
  relationship varchar
  created_at timestamp
}

Table house {
  id int [primary key]
  addrres varchar
  city varchar
  housetype varchar
  client_id int
  created_at timestamp
}

ref: client.id < house.client_id
ref: client.id < friend_referral.client_id
ref: client.id < friend_referral.referred_by
ref: house.id < project_details.house_id
ref: services.id < task.service_id
ref: status.id < project_details.status_id
ref: task.project_details_id > project_details.id
